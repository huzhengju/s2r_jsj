<mujoco model="MJCFScene">
  <include file="../scene.xml"/>

  <include file="../mmk2/mmk2_options.xml"/>
  <include file="../mmk2/mmk2_dependencies.xml"/>

  <compiler meshdir="../../meshes/" texturedir="../../meshes/"/>

  <!-- <include file="../object/plate_white_dependencies.xml"/> -->
  <include file="../object/whitebox_dependencies.xml"/>
  <include file="../object/brownbox_dependencies.xml"/>
  <include file="../object/pinkbox_dependencies.xml"/>

  <include file="../object/blue_dependencies.xml"/>
  <include file="../object/hat_dependencies.xml"/>

  <!-- <default>
    <default class="obj_collision">
      <geom group="3" condim="6" solimp="2 1 0.01" solref="0.001 10" friction="1 0.005 0.0001" type="mesh"/>
    </default>

    <default class="obj_visual">
      <geom group="2" type="mesh" contype="0" conaffinity="0"/>
    </default>
  </default> -->
  <visual>
    <global offwidth="1920" offheight="1080"/>
    <quality shadowsize="4096" offsamples="4"/>
    <headlight diffuse='0.6 0.6 0.6' ambient='.3 .3 .3' specular='0 0 0'/>
    <scale com="0.05" camera="0.06" framelength="0.5" framewidth="0.02" 
          forcewidth="0.1" contactwidth="0.01" contactheight="0.05"/>
  </visual>

  <asset>
    <texture type='2d' name='groundplane' builtin='checker' 
             mark='edge' rgb1='0.2 0.3 0.4' rgb2='0.1 0.2 0.3' 
             markrgb='0.8 0.8 0.8' width='300' height='300'/>
    <material name='groundplane' texture='groundplane' 
              texuniform='true' texrepeat='5 5' reflectance='0.2'/>
  </asset>

  <default>
    <default class="object">
      <geom solimp="0.99 0.95 0.01" solref="0.01 1" type="mesh"/>
    </default>
  </default>

  <worldbody>
  
    <light castshadow="false" directional='true' diffuse='.3 .3 .3' 
           specular='0.3 0.3 0.3' pos='-1 -1 2.5' dir='1 1 -1'/>
    <light directional='true' diffuse='.3 .3 .3' specular='0.3 0.3 0.3' 
           pos='1 -1 2.5' dir='-1 1 -1'/>
    <light castshadow="false" directional='true' diffuse='.3 .3 .3' 
           specular='0.3 0.3 0.3' pos='0 1 2.5' dir='0 -1 -1'/>

    <body name='mmk2' pos="0 0 -0.2" euler="0 0 0">
      <joint type="free" frictionloss="0.0001" />
      <include file="../mmk2/mmk2.xml"/>
    </body>


    <body name="whitebox" pos="0.143748 -1.69334 0.891876 " quat="0.707 0.707 0 0" childclass="object">
      <joint type="free" frictionloss="0.00005" />
      <include file="../object/whitebox.xml"/>
      <geom type="cylinder" pos="0 0 0" size="0.1 0.002" quat="-0.707 0.707 0 0" solimp="0.999 0.995 0.001" solref="0.001 1"/>
    </body>
    <body name="brownbox" pos="0.143748 -1.69334 0.568601" quat="0.707 0.707 0 0" childclass="object">
      <joint type="free" frictionloss="0.00005" />
      <include file="../object/brownbox.xml"/>
      <geom type="cylinder" pos="0 0 0" size="0.1 0.002" quat="-0.707 0.707 0 0" solimp="0.999 0.995 0.001" solref="0.001 1"/>
    </body>
    
     <body name="pinkbox" pos="0.143748 -1.69334 0.2376716" quat="0.707 0.707 0 0" childclass="object">
      <joint type="free" frictionloss="0.00005" />
      <include file="../object/pinkbox.xml"/>
      <geom type="cylinder" pos="0 0 0" size="0.1 0.002" quat="-0.707 0.707 0 0" solimp="0.999 0.995 0.001" solref="0.001 1"/>
    </body>
    

<!-- 
<key
  time="104.22"
  qpos="0.000386062 -7.09079e-07 -0.198262 ,1 4.60791e-08 -0.000993016 5.27826e-07 0.00419839 ,0.00420091 0.00606276 -0.000236702 ,0.00261231 -0.000175106 3.39873e-06 -6.8153e-06 ,3.79804e-05 0.00285183 5.9625e-05 ,0.000442203 0.00021889 0.000174875 3.4071e-06 ,-6.83899e-06 -3.79813e-05 -0.00285183 -,5.96263e-05 -0.000222897 -0.000436027 drill 0.143748 ,-1.68879 0.571876 -0.706529, -0.706529 0.0285801 0.02858 0.158921 ,-1.64334 0.238601 0.706569 ,0.706562 -0.0276507 -0.027654 box0.146742, -1.66547 -0.0776716 0.707059 ,0.707065 -0.00796776 -0.00797773 0.0145172, -1.68884 -0.181662 0.553933, 0.505078 0.505259 0.4948 0.494754 ,-1.21497 0.479711 -0.198514 ,0.514922 0.582655 -0.471159 -0.416387"
  qvel="6.33278e-10 6.83541e-16 6.54012e-15 1.8689e-16 -6.12266e-17 9.98964e-14 8.00237e-09 8.00414e-09 2.07608e-16 1.36194e-16 4.38498e-17 -3.47054e-18 -6.84858e-18 1.85836e-18 3.68026e-16 3.61408e-17 4.5661e-18 -6.16119e-19 6.78645e-19 -9.4626e-18 -1.92603e-18 6.62452e-18 6.39281e-17 -3.58569e-17 5.95909e-17 7.57911e-19 5.64943e-18 0.000156067 2.99123e-05 -0.00059116 -0.0105756 4.62439e-05 0.00448277 0.000147428 4.42584e-06 -0.000523804 0.00848603 1.83798e-05 0.00103046 0.000151287 5.5536e-06 -0.000486621 0.00550804 9.41038e-05 0.00449353 9.51317e-05 -7.42317e-11 -4.06802e-11 2.54463e-14 -6.16542e-14 -4.53507e-10 1.10269e-13 -2.60857e-12 -5.58243e-13 1.18516e-13 2.03585e-09 -7.6826e-16 -6.2014e-15"
  ctrl="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0" 
/> -->
<!-- <key
  time="11.056"
  qpos="0.000386003 -7.09079e-07 -0.198262 1 4.6079e-08 -0.000993016 5.27683e-07 0.00419765 0.00420016 0.00606276 -0.000236702 0.00261231 -0.000175106 3.39873e-06 -6.8153e-06 3.79804e-05 0.00285183 5.9625e-05 0.000442203 0.00021889 0.000174875 3.4071e-06 -6.83899e-06 -3.79813e-05 -0.00285183 -5.96263e-05 -0.000222897 -0.000436027 0.143756 -1.68881 0.571836 0.500009 0.5 -0.499994 -0.499996 0.158909 -1.64333 0.238611 0.500016 0.500016 -0.499985 -0.499983 0.158932 -1.64332 -0.077571 0.499952 0.499942 -0.500052 -0.500053 3.29779e-08 -1.4807 0.390671 0.553933 -0.51727 -0.51745 -0.482039 -0.481991 -2.41705 0.654618 -0.198514 0.481095 0.544379 0.514907 0.455049"
  qvel="6.3327e-10 6.84372e-16 6.78814e-15 2.09556e-16 -2.87599e-17 9.98734e-14 8.00226e-09 8.00404e-09 1.15236e-12 1.11777e-16 -1.75554e-15 9.58264e-17 4.83329e-18 4.53397e-18 1.04288e-17 -1.58993e-15 -1.77841e-16 -1.49265e-16 -7.10831e-17 -9.29654e-17 -3.83192e-19 -2.42417e-18 -1.19192e-16 1.5818e-15 2.6369e-16 7.06921e-17 1.44912e-16 1.0391e-05 1.93315e-05 -0.00244612 -0.00687504 -2.91561e-05 0.0123782 -1.53661e-05 1.98426e-06 -0.000595463 0.0110354 7.5372e-06 0.00113079 -1.33629e-05 8.99265e-06 -0.000374809 0.00827578 -2.48153e-05 0.00482974 -7.25566e-09 1.13628e-11 3.46372e-12 2.43503e-14 -5.86428e-14 5.69889e-11 -1.09926e-13 -2.20343e-11 1.22705e-12 -9.28813e-13 -1.50754e-08 8.12899e-17 6.56043e-16"
  ctrl="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0"
/> -->
     <body name="table-a" pos="0 0 0.025">
         <joint  damping="0.2" frictionloss="0.0001"/>
         <geom  type="box" size="0.20000000000000004 0.11 0.01" pos="0.10354727603690797 -1.6533984597895902 -0.11417112959445241" rgba="0.800000011920929 0.5 0.20000000298023224 1.0"/>
         <geom  type="box" size="0.20000001192092896 0.10999999344348907 0.009999999776482582" pos="0.12620092411228853 -1.6533984899520874 0.5352914495143401" rgba="0.800000011920929 0.5 0.20000000298023224 1.0"/>
         <geom  type="box" size="0.20000001192092896 0.10999999344348907 0.009999999776482582" pos="0.04483229776947773 -1.6533984899520874 0.2019865471124649" rgba="0.800000011920929 0.5 0.20000000298023224 1.0"/>
         <geom  type="box" size="0.20000001192092896 0.10999999344348907 0.009999999776482582" pos="0.044832296669483185 -1.6533984899520874 1.1554779018169132" rgba="0.800000011920929 0.5 0.20000000298023224 1.0"/>
         <geom  type="box" size="0.20000001192092896 0.10999999344348907 0.009999999776482582" pos="0.09986287519748172 -1.6533984899520874 0.8558396887779236" rgba="0.800000011920929 0.5 0.20000000298023224 1.0"/>
    </body>
    <geom name="Box1" type="box" size="0.4 0.8 0.01" pos="-1.65 0.184 0.544" euler="0 0 -3.145" rgba="0.800000011920929 0.5 0.20000000298023224 1.0"/>
   
    <body name="blue" pos="-1.480 0.41 0.544" quat="0.5  0.5 0.5 0.5" childclass="object">
      <joint type="free" frictionloss="0.00005" />
      <include file="../object/blue.xml"/>
      <geom type="cylinder" pos="0 0.012 0" size="0.05 0.002" quat="-0.707 0.707 0 0"/>
    </body>
    
    <body name="hat" pos="-1.480 -0.12 0.55" quat="0.5  0.5 0.5 0.5" childclass="object">
      <joint type="free" frictionloss="0.00005"/>
      <include file="../object/hat.xml"/>
      <geom type="cylinder" pos="0 0.05 0" size="0.06 0.012" quat="-0.707 0.8 0 0"/>
     </body>
    <camera name="cam0" pos="0 0 -1" euler="0 0 0" fovy="60"/>
<!-- <key
  time="0.202"
  qpos="-7.57819e-10 1.6586e-07 1.65877e-07 0.00182302 7.10151e-05 0.00229334 -0.000175396 3.27809e-07 7.09904e-09 3.80792e-05 0.00285707 5.97306e-05 0.000442671 0.00021907 0.00017537 3.32253e-07 -9.23744e-09 -3.80793e-05 -0.00285708 -5.97307e-05 -0.000223078 -0.000436494 0.0998396 -1.60047 -0.106359 0.509161 0.489103 -0.491018 -0.510329 0.125987 -1.60466 0.542484 0.492569 0.505444 0.501005 0.500895 0.0579082 -1.65639 0.225604 0.519872 0.624126 0.397952 0.42642 0.0816392 -1.6635 1.15999 0.668111 0.743052 0.0288187 0.0258842 0.103415 -1.60953 0.857248 -0.134265 -0.123948 -0.672828 -0.716877"
  qvel="2.42031e-09 8.60229e-07 8.60317e-07 0.00793601 0.000355517 0.00350333 7.65946e-06 4.2242e-07 2.84976e-08 4.8362e-07 -2.29017e-05 -6.08603e-07 -1.84145e-07 1.21381e-06 -7.70423e-06 4.98497e-07 -3.65749e-08 -4.78952e-07 2.29298e-05 6.1126e-07 -1.5723e-06 6.26251e-07 -0.000805024 4.54668e-05 0.00104072 6.3268e-05 1.50933e-06 -0.0329256 5.45274e-05 3.55509e-05 -0.000387531 -0.0402825 8.50835e-05 -0.00336952 -0.000703701 0.00142584 -0.0013097 0.0145731 -0.00288847 -0.00336382 -0.000194113 0.00182621 0.00597114 0.0807755 -0.00111478 -0.012871 5.482e-05 -0.000169434 -0.00226245 0.0191293 -0.000104774 6.68074e-05"
  ctrl="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0"
/> -->
  </worldbody>
  <actuator>
    <include file="../mmk2/mmk2_control.xml"/>
  </actuator>

  <sensor>
    <include file="../mmk2/mmk2_sensor.xml"/>
  </sensor>
  <!-- <keyframe>
    <key name="pick" qpos="0 0 0 0.707 0 0 -0.707 0 0 0 0 0 -0. -0.166 0.032 0. 1.5708 2.223 0 0 -0. -0.166 0.032 0. -1.5708 -2.223 0 0 1.35 0.25 0.742 1 0 0 0 0.25 1.35 0.422 0.707107 0 0 0.707107 1.35 0.55 1.062 1 0 0 0 1.3 0.25 0.88 1 0 0 0 0.25 1.275 0.547 0.5 0.5 -0.5 0.5" 
          ctrl="0 0 0 0 0 -0. -0.166 0.032 0. 1.5708 2.223 0 -0. -0.166 0.032 0. -1.5708 -2.223 0"/>
    
    <key name="carry" qpos="0 0 0 0.707 0 0 -0.707 0 0 0 0 0 -0. -0.166 0.032 0. 1.5708 0.6522 0 0 -0. -0.166 0.032 0. -1.5708 -0.6522 0 0 1.35 0.25 0.742 1 0 0 0 0.25 1.35 0.422 0.707107 0 0 0.707107 1.35 0.55 1.062 1 0 0 0 1.3 0.25 0.88 1 0 0 0 0.25 1.275 0.547 0.5 0.5 -0.5 0.5" 
          ctrl="0 0 0 0 0 -0. -0.166 0.032 0. 1.5708 0.6522 0 -0. -0.166 0.032 0. -1.5708 -0.6522 0"/>
  </keyframe> -->
</mujoco>
